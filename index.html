<!--<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ChildCare</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>🌈 ChildCare <span style="font-size: 18px;">🎈</span></h1>
  </header>

  <main class="grid-container">

    Games Section 
    <section class="card">
      <h2>🎮 GAMES 🎮</h2>
      <p>Play and learn with fun games!</p>
      <a href="games/tictactoe/index.html">Play Tic-Tac-Toe</a>
      <a href="games/wordcookies/index.html">Play Word Cookies</a>
      <a href="games/puzzle/index.html">Play Puzzle</a>
      <a href="games/snakeandladder/index.html">Play snake and ladder🐍</a>
      <a href="games/citybuilding/index.html">Play citybuilding</a>
    </section>

    Books Section 
    <section class="card">
      <h2>📚 BOOKS 📚</h2>
      <p>Read interactive stories and books.</p>
      <a href="stories/story-session.html">Go to Story Sessions</a>
    </section>

    Planner Section 
    <section class="card">
      <h2>📅 PLANNER 📅</h2>
      <p>Organize study time with the planner.</p>
      <a href="homework_scheduler.html">Open Homework Scheduler</a>
    </section>

     Parental Controls Section
    <section class="card">
      <h2>🔒 PARENTAL CONTROLS 🔒</h2>
      <p>Set screen time limits for your child.</p>
      <label for="time">Set Time (minutes):</label>
      <input type="number" id="time" name="time" />
      <button>Apply</button>
      <a href="websitecontrols.html">Open websitecontrols</a>
    </section>

     Login Section 
    <section class="card">
      <h2>🔐 LOGIN</h2>
      <p>Access your account to track progress.</p>
      <a href="login/select-role.html" class="login-link">Go to Login</a>
    </section>
    <section id="login-section">
      <h2>👤 LOGIN</h2>
      <p>Access your dashboard:</p>
      <a href="login/select-role.html" class="login-link">Go to Login</a>
    </section>
    
    <style>
      .login-link {
        display: inline-block;
        padding: 10px 20px;
        background-color: #9b59b6;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        margin-top: 10px;
      }
      .login-link:hover {
        background-color: #7e3ea5;
      }
    </style>
    

  </main>

  <footer>
    <p>&copy; 2025 ChildCare Project. All rights reserved.</p>
  </footer>
</body>
</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ChildCare</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .login-link {
      display: inline-block;
      padding: 10px 20px;
      background-color: #9b59b6;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      margin-top: 10px;
    }
    .login-link:hover {
      background-color: #7e3ea5;
    }

    #screenTimeControls {
      margin-top: 15px;
    }

    #screenTimeControls input[type="number"] {
      padding: 5px;
      width: 60px;
      font-size: 14px;
    }

    #screenTimeControls button {
      padding: 6px 12px;
      font-size: 14px;
      margin: 5px;
    }

    #countdown {
      margin-top: 10px;
      color: green;
      font-weight: bold;
    }

    #lockOverlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      color: #fff;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    #lockOverlay input[type="password"] {
      padding: 8px;
      font-size: 16px;
      margin-top: 10px;
    }
    #lockOverlay button {
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <header>
    <h1>🌈 ChildCare <span style="font-size: 18px;">🎈</span></h1>
  </header>

  <main class="grid-container">

    <!-- Games Section -->
    <section class="card">
      <h2>🎮 GAMES 🎮</h2>
      <p>Play and learn with fun games!</p>
      <a href="games/tictactoe/index.html">Play Tic-Tac-Toe</a>
      <a href="games/wordcookies/index.html">Play Word Cookies</a>
      <a href="games/puzzle/index.html">Play Puzzle</a>
      <a href="games/snakeandladder/index.html">Play snake and ladder🐍</a>
      <a href="games/citybuilding/index.html">Play citybuilding</a>
    </section>

    <!-- Books Section -->
    <section class="card">
      <h2>📚 BOOKS 📚</h2>
      <p>Read interactive stories and books.</p>
      <a href="stories/story-session.html">Go to Story Sessions</a>
    </section>

    <!-- Planner Section -->
    <section class="card">
      <h2>📅 PLANNER 📅</h2>
      <p>Organize study time with the planner.</p>
      <a href="homework_scheduler.html">Open Homework Scheduler</a>
    </section>

    <!-- Parental Controls Section -->
    <section class="card">
      <h2>🔒 PARENTAL CONTROLS 🔒</h2>
      <p>Set screen time limits for your child.</p>
      <div id="screenTimeControls">
        <label for="screenTime">Set screen time (minutes):</label>
        <input type="number" id="screenTime" min="1" />
        <button onclick="startScreenTimer()">Start</button>
        <button onclick="resetTimer()">Reset</button>
        <div id="countdown"></div>
      </div>
    </section>

    <!-- Login Section -->
    <section class="card">
      <h2>🔐 LOGIN</h2>
      <p>Access your account to track progress.</p>
      <a href="login/select-role.html" class="login-link">Go to Login</a>
    </section>

  </main>

  <!-- Lock Overlay -->
  <div id="lockOverlay">
    <h1>⛔ Screen time is over!</h1>
    <p>This site is now locked.</p>
    <input type="password" id="unlockInput" placeholder="Enter parent password" />
    <button onclick="unlockSite()">Unlock</button>
  </div>

  <footer>
    <p>&copy; 2025 ChildCare Project. All rights reserved.</p>
  </footer>

  <!-- Screen Time Script -->
  <script>
    let timeoutId;
    let countdownInterval;
    const unlockPassword = "parent123";

    function startScreenTimer() {
      const minutes = parseInt(document.getElementById('screenTime').value);
      if (!minutes || minutes < 1) {
        alert("Please enter a valid time.");
        return;
      }

      const limitInMs = minutes * 60 * 1000;
      const startTime = Date.now();

      localStorage.setItem("screenStartTime", startTime);
      localStorage.setItem("screenLimit", limitInMs);

      startCountdown(limitInMs);
      timeoutId = setTimeout(blockWebsite, limitInMs);
    }

    function resetTimer() {
      localStorage.removeItem("screenStartTime");
      localStorage.removeItem("screenLimit");
      clearInterval(countdownInterval);
      if (timeoutId) clearTimeout(timeoutId);
      document.getElementById("lockOverlay").style.display = "none";
      document.getElementById("countdown").textContent = "";
    }

    function blockWebsite() {
      clearInterval(countdownInterval);
      document.getElementById("lockOverlay").style.display = "flex";
    }

    function unlockSite() {
      const input = document.getElementById("unlockInput").value;
      if (input === unlockPassword) {
        resetTimer();
      } else {
        alert("Incorrect password.");
      }
    }

    function startCountdown(remainingMs) {
      const countdown = document.getElementById("countdown");
      clearInterval(countdownInterval);
      countdownInterval = setInterval(() => {
        const now = Date.now();
        const savedStart = localStorage.getItem("screenStartTime");
        const savedLimit = localStorage.getItem("screenLimit");
        if (!savedStart || !savedLimit) {
          countdown.textContent = "";
          clearInterval(countdownInterval);
          return;
        }

        const elapsed = now - parseInt(savedStart);
        const timeLeft = parseInt(savedLimit) - elapsed;

        if (timeLeft <= 0) {
          countdown.textContent = "Time's up!";
          clearInterval(countdownInterval);
          blockWebsite();
        } else {
          const minutes = Math.floor(timeLeft / 60000);
          const seconds = Math.floor((timeLeft % 60000) / 1000);
          countdown.textContent = `⏳ Time remaining: ${minutes}:${seconds.toString().padStart(2, "0")}`;
        }
      }, 1000);
    }

    window.onload = function () {
      const savedStart = localStorage.getItem("screenStartTime");
      const savedLimit = localStorage.getItem("screenLimit");

      if (savedStart && savedLimit) {
        const now = Date.now();
        const elapsed = now - parseInt(savedStart);
        const remaining = parseInt(savedLimit) - elapsed;

        if (remaining <= 0) {
          blockWebsite();
        } else {
          startCountdown(remaining);
          timeoutId = setTimeout(blockWebsite, remaining);
        }
      }
    };
  </script>
</body>
</html>
